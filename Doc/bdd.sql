-- MySQL Script generated by MySQL Workbench
-- Wed Apr 18 14:52:37 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema jeuxVideo
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `jeuxVideo` ;

-- -----------------------------------------------------
-- Schema jeuxVideo
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `jeuxVideo` DEFAULT CHARACTER SET utf8 ;
USE `jeuxVideo` ;

-- -----------------------------------------------------
-- Table `jeuxVideo`.`Editeur`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `jeuxVideo`.`Editeur` ;

CREATE TABLE IF NOT EXISTS `jeuxVideo`.`Editeur` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nom` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  UNIQUE INDEX `nom_UNIQUE` (`nom` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `jeuxVideo`.`Jeux`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `jeuxVideo`.`Jeux` ;

CREATE TABLE IF NOT EXISTS `jeuxVideo`.`Jeux` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nom` VARCHAR(100) NOT NULL,
  `Editeur_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  UNIQUE INDEX `nom_UNIQUE` (`nom` ASC),
  INDEX `fk_Jeux_Editeur1_idx` (`Editeur_id` ASC),
  CONSTRAINT `fk_Jeux_Editeur1`
    FOREIGN KEY (`Editeur_id`)
    REFERENCES `jeuxVideo`.`Editeur` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `jeuxVideo`.`Support`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `jeuxVideo`.`Support` ;

CREATE TABLE IF NOT EXISTS `jeuxVideo`.`Support` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nom` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  UNIQUE INDEX `nom_UNIQUE` (`nom` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `jeuxVideo`.`DLC`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `jeuxVideo`.`DLC` ;

CREATE TABLE IF NOT EXISTS `jeuxVideo`.`DLC` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nom` VARCHAR(100) NOT NULL,
  `Editeur_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  UNIQUE INDEX `nom_UNIQUE` (`nom` ASC),
  INDEX `fk_DLC_Editeur1_idx` (`Editeur_id` ASC),
  CONSTRAINT `fk_DLC_Editeur1`
    FOREIGN KEY (`Editeur_id`)
    REFERENCES `jeuxVideo`.`Editeur` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `jeuxVideo`.`Jeux_has_Support`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `jeuxVideo`.`Jeux_has_Support` ;

CREATE TABLE IF NOT EXISTS `jeuxVideo`.`Jeux_has_Support` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `Jeux_id` INT NOT NULL,
  `Support_id` INT NOT NULL,
  `DLC_id` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Jeux_has_Support_Support1_idx` (`Support_id` ASC),
  INDEX `fk_Jeux_has_Support_Jeux1_idx` (`Jeux_id` ASC),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  INDEX `fk_Jeux_has_Support_DLC1_idx` (`DLC_id` ASC),
  CONSTRAINT `fk_Jeux_has_Support_Jeux1`
    FOREIGN KEY (`Jeux_id`)
    REFERENCES `jeuxVideo`.`Jeux` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Jeux_has_Support_Support1`
    FOREIGN KEY (`Support_id`)
    REFERENCES `jeuxVideo`.`Support` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Jeux_has_Support_DLC1`
    FOREIGN KEY (`DLC_id`)
    REFERENCES `jeuxVideo`.`DLC` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
